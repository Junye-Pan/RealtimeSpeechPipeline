---
## Checkpoint: 2026-02-09T02:36:01-0600 provider-invocation-rk10-rk11

### Objective (1-3 bullets)
- Implement RK-10 provider contracts and deterministic registry candidate ordering.
- Implement RK-11 invocation controller with retry/switch/fallback signaling.
- Integrate scheduler + OR-02 evidence model and update MVP implementation status docs.

### What changed (verified)
- Added RK-10 provider contracts and tests:
  - \
  - \
- Added RK-10 registry catalog + coverage constraints and tests:
  - \
  - \
- Added RK-11 invocation controller + tests:
  - \
  - \
- Integrated provider invocation into scheduler and added integration tests:
  - \
  - \
- Extended OR-02 baseline evidence with invocation outcome provenance:
  - \
  - \
- Added fallback invocation evidence emission on provider_failure path:
  - \
- Updated MVP status doc for multi-provider assumption and RK-10/RK-11 progress:
  - \
- Commands run:
  - \
  - \ok  	github.com/tiger/realtime-speech-pipeline/internal/runtime/provider/contracts	(cached)
ok  	github.com/tiger/realtime-speech-pipeline/internal/runtime/provider/registry	(cached)
ok  	github.com/tiger/realtime-speech-pipeline/internal/runtime/provider/invocation	(cached)
ok  	github.com/tiger/realtime-speech-pipeline/internal/runtime/executor	(cached)
ok  	github.com/tiger/realtime-speech-pipeline/internal/observability/timeline	(cached)
ok  	github.com/tiger/realtime-speech-pipeline/internal/runtime/turnarbiter	(cached)
  - \ok  	github.com/tiger/realtime-speech-pipeline/api/controlplane	(cached)
ok  	github.com/tiger/realtime-speech-pipeline/api/eventabi	(cached)
?   	github.com/tiger/realtime-speech-pipeline/api/observability	[no test files]
ok  	github.com/tiger/realtime-speech-pipeline/cmd/rspp-cli	(cached)
?   	github.com/tiger/realtime-speech-pipeline/cmd/rspp-control-plane	[no test files]
?   	github.com/tiger/realtime-speech-pipeline/cmd/rspp-local-runner	[no test files]
?   	github.com/tiger/realtime-speech-pipeline/cmd/rspp-runtime	[no test files]
?   	github.com/tiger/realtime-speech-pipeline/internal/observability/replay	[no test files]
ok  	github.com/tiger/realtime-speech-pipeline/internal/observability/timeline	(cached)
ok  	github.com/tiger/realtime-speech-pipeline/internal/runtime/buffering	(cached)
ok  	github.com/tiger/realtime-speech-pipeline/internal/runtime/executor	(cached)
ok  	github.com/tiger/realtime-speech-pipeline/internal/runtime/guard	(cached)
ok  	github.com/tiger/realtime-speech-pipeline/internal/runtime/localadmission	(cached)
ok  	github.com/tiger/realtime-speech-pipeline/internal/runtime/nodehost	(cached)
ok  	github.com/tiger/realtime-speech-pipeline/internal/runtime/planresolver	(cached)
ok  	github.com/tiger/realtime-speech-pipeline/internal/runtime/provider/contracts	(cached)
ok  	github.com/tiger/realtime-speech-pipeline/internal/runtime/provider/invocation	(cached)
ok  	github.com/tiger/realtime-speech-pipeline/internal/runtime/provider/registry	(cached)
ok  	github.com/tiger/realtime-speech-pipeline/internal/runtime/transport	(cached)
ok  	github.com/tiger/realtime-speech-pipeline/internal/runtime/turnarbiter	(cached)
ok  	github.com/tiger/realtime-speech-pipeline/internal/tooling/ops	(cached)
ok  	github.com/tiger/realtime-speech-pipeline/internal/tooling/regression	(cached)
ok  	github.com/tiger/realtime-speech-pipeline/internal/tooling/validation	(cached)
ok  	github.com/tiger/realtime-speech-pipeline/test/contract	(cached)
ok  	github.com/tiger/realtime-speech-pipeline/test/failover	(cached)
ok  	github.com/tiger/realtime-speech-pipeline/test/integration	(cached)
ok  	github.com/tiger/realtime-speech-pipeline/test/replay	(cached)

### What worked (with evidence)
- New provider modules compiled and all targeted package tests passed.
  - Evidence: \, \, \, \, \, \
- Full repository regression suite passed after changes.
  - Evidence: \ok  	github.com/tiger/realtime-speech-pipeline/api/controlplane	(cached)
ok  	github.com/tiger/realtime-speech-pipeline/api/eventabi	(cached)
?   	github.com/tiger/realtime-speech-pipeline/api/observability	[no test files]
ok  	github.com/tiger/realtime-speech-pipeline/cmd/rspp-cli	(cached)
?   	github.com/tiger/realtime-speech-pipeline/cmd/rspp-control-plane	[no test files]
?   	github.com/tiger/realtime-speech-pipeline/cmd/rspp-local-runner	[no test files]
?   	github.com/tiger/realtime-speech-pipeline/cmd/rspp-runtime	[no test files]
?   	github.com/tiger/realtime-speech-pipeline/internal/observability/replay	[no test files]
ok  	github.com/tiger/realtime-speech-pipeline/internal/observability/timeline	(cached)
ok  	github.com/tiger/realtime-speech-pipeline/internal/runtime/buffering	(cached)
ok  	github.com/tiger/realtime-speech-pipeline/internal/runtime/executor	(cached)
ok  	github.com/tiger/realtime-speech-pipeline/internal/runtime/guard	(cached)
ok  	github.com/tiger/realtime-speech-pipeline/internal/runtime/localadmission	(cached)
ok  	github.com/tiger/realtime-speech-pipeline/internal/runtime/nodehost	(cached)
ok  	github.com/tiger/realtime-speech-pipeline/internal/runtime/planresolver	(cached)
ok  	github.com/tiger/realtime-speech-pipeline/internal/runtime/provider/contracts	(cached)
ok  	github.com/tiger/realtime-speech-pipeline/internal/runtime/provider/invocation	(cached)
ok  	github.com/tiger/realtime-speech-pipeline/internal/runtime/provider/registry	(cached)
ok  	github.com/tiger/realtime-speech-pipeline/internal/runtime/transport	(cached)
ok  	github.com/tiger/realtime-speech-pipeline/internal/runtime/turnarbiter	(cached)
ok  	github.com/tiger/realtime-speech-pipeline/internal/tooling/ops	(cached)
ok  	github.com/tiger/realtime-speech-pipeline/internal/tooling/regression	(cached)
ok  	github.com/tiger/realtime-speech-pipeline/internal/tooling/validation	(cached)
ok  	github.com/tiger/realtime-speech-pipeline/test/contract	(cached)
ok  	github.com/tiger/realtime-speech-pipeline/test/failover	(cached)
ok  	github.com/tiger/realtime-speech-pipeline/test/integration	(cached)
ok  	github.com/tiger/realtime-speech-pipeline/test/replay	(cached) returned success for API, runtime, tooling, contract, integration, failover, replay packages.

### What didnâ€™t work (with evidence)
- No implementation blockers were encountered in this checkpoint.
  - Evidence: all executed test commands exited with code 0.

### Decisions & rationale
- Decision:
  - Keep RK-10/RK-11 scope deterministic and adapter-agnostic with interfaces and normalized outcomes.
- Why:
  - Enables immediate multi-provider orchestration semantics without waiting for concrete provider SDK adapters.
- Trade-offs:
  - Provider adapters under \ remain scaffold-only; runtime wiring currently validates control flow and signaling rather than live provider IO.
- Follow-ups:
  - Wire real provider adapters and turn-level orchestration path to consume scheduler/provider outputs end-to-end.

### Open questions / unknowns
- Should controller construction enforce \ in production codepaths, or remain a deployment-time check?
- Should provider invocation evidence include explicit per-attempt latency fields now, or in a follow-up observability slice?

### Next steps (ordered, smallest-to-largest)
1. Decide where MVP 3-5 provider coverage enforcement runs (startup validation vs CI-only validation).
2. Thread provider invocation outcomes from scheduler into turn-level OR-02 evidence capture for non-terminal successful turns.
3. Add concrete STT/LLM/TTS adapters under \ and integration tests for live invocation routing.

### Quick resume prompt
Paste this into a new Codex session:
> Read and follow the session log at: .codex/sessions/2026-02-09-provider-invocation-rk10-rk11-7dfcfb40.tmp
> First, restate current status, then execute the Next steps in order.
---
